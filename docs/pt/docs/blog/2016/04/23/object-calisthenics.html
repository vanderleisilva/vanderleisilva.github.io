<!DOCTYPE html>
<html lang="en" class="ie_11_scroll">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="hhhwidth=device-width, initial-scale=1">

	<meta property="og:image" content="http://localhost:4000/images/selfie.png" />
	<meta property="og:title" content="Object Calisthenics" />
	<meta property="og:description" content="Front-end code that rocks! A free space for those fans of Front-end technologies." />
	<meta property="og:url" content="http://localhost:4000">
	<meta property="og:site_name" content="Vanderlei Silva's blog" />
	<meta property="og:type" content="website" />
	<meta property="fb:admins" content="100001523233409" />

	<title>Object Calisthenics</title>
	<!-- CSS -->
	<link rel="stylesheet" href="/css/bootstrap.min.css" />
	<link rel="stylesheet" href="/css/font-awesome.min.css" />
	<link rel="stylesheet" href="/css/tpl_style.css" />
	<link rel="stylesheet" href="/css/hover-effect.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.1.1/ekko-lightbox.css" />
	<!-- RSS feed -->
	<link rel="alternate" type="application/rss+xml" href="/blog/atom.xml" title="Vanderlei Silva's blog - RSS" />
	<!-- Favicon and touch icons -->
	<link rel="shortcut icon" href="/favicon.png" />
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<div class="language" title="Change language">
    <div class="selected">
        <img src="/images/flags/en.png" alt="" />
        <i class="fa fa-sort-down"></i>
    </div>
    <ul>
        
            
        
            
                <li>
                    
                        <a href="/pt/blog/2016/04/23/object-calisthenics">
                    
                    
                        <img src="/images/flags/pt.png" alt="pt" />
                        <label> </label>
                    </a>
                </li>
            
        
    </ul>
</div>
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77747638-1', 'auto');
  ga('send', 'pageview');

</script>

	<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.6&appId=356591741022324";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


	<div class="show-menu">
	<a href="#" class="shadow-top-down">+</a>
</div>
<nav class="main-menu shadow-top-down">
	<ul class="nav nav-pills nav-stacked">
		<li><a href="/">Home</a></li>
		<li class="separator"></li>
		
			
			
                <li><a href="/blog/2017/10/17/pokemon-battle" title="Pokémon Battle">Pokémon Battle</a></li>
            

			
			
		
			
			
                <li><a href="/blog/2017/07/05/failing-fast-learning-fast" title="A Scrum government case">A Scrum government case</a></li>
            

			
			
		
			
			
                <li><a href="/blog/2016/07/11/ecmascript-brief-overview" title="ECMAScript">ECMAScript</a></li>
            

			
			
		
			
			

			
				<li><a href="/blog" title="List of all articles">All articles ...</a></li>
            
			
		
			
			

			
			
		
			
			

			
			
		
			
			

			
			
		
			
			

			
			
		
		<li class="separator"></li>
		<li><a href="/repositories">Repositories</a></li>
		<li class="separator"></li>
		<li><a href="#tpl_contact" class="scroll_effect">Contact</a></li>
	</ul>
</nav>


<!-- Elements -->
<section id="tpl_element">
	<div class="container">
		<header class="template_header">
			<h1>Object Calisthenics</h1>
		</header>
    <p class="meta">23 Apr 2016</p>
    <div class="post">
      <p>When I first started coding, turning back some ten years ago, my main concern was to see my code working, by that time the understanding of working that I had, means the result be the expected one or in other words: answer what should be done. However day by day, that concerned has changed. I’ve added a second question to my development life-cycle: How development should be done, structured.</p>

<p>Object calisthenics show us, in an objective way, translated in nine programming best practices rules, a guide that we can follow to keep our code clean.</p>

<p>By best practices we can understand as a description of a standard way of doing things, in our context, coding, however not necessary means, the only way of doing that. Though in most cases this alternative approach can be considered <a href="http://martinfowler.com/bliki/CodeSmell.html">code smell</a>.</p>

<p>By clean code we can have different definitions, having some differences from one author to another, for this article I’ll assume code clean as a code:</p>

<ul>
  <li>Easy to understand;</li>
  <li>Easy to modify;</li>
  <li>Easy to test;</li>
  <li>Works correctly.</li>
</ul>

<h2 id="definition">Definition</h2>
<p>Object Calisthenics are programming exercises, invented by Jeff Bay in his book <a href="http://pragprog.com/book/twa/thoughtworks-anthology">The ThoughtWorks Anthology</a>. The term Object is related to Object Oriented Programming and Calisthenics derived from Greek, meaning exercises under the context of gymnastics.</p>

<p>Although the term was first used in a Java development context, these rules are not dependent on any specific technology and yes, of course, as the name makes clear, dependent on an object oriented architecture.</p>

<h2 id="rules">Rules</h2>
<ol>
  <li>Only One Level Of Indentation Per Method</li>
  <li>Don’t Use The ELSE Keyword</li>
  <li>Wrap All Primitives And Strings</li>
  <li>One Dot Per Line</li>
  <li>Don’t Abbreviate</li>
  <li>Keep All Entities Small</li>
  <li>No Classes With More Than Two Instance Variables</li>
  <li>First Class Collections</li>
  <li>No Getters/Setters/Properties</li>
</ol>

<h2 id="only-one-level-of-indentation-per-method">Only One Level Of Indentation Per Method</h2>
<p>We start our exercise looking at the number of indentations in our code, this rule is extremely related with <a href="http://refactoring.com/catalog/extractMethod.html">Extract method design pattern</a>, actually their goals are the same.</p>

<p>We won’t reduce the line code’s number, but we will first increase readability and testability and second reduce the complexity of our methods in a significant way:</p>

<h2 id="dont-use-the-else-keyword">Don’t Use The ELSE Keyword</h2>
<p>Every programmer understand the importance of the if-else-conditional structure and their simplicity. But the main ideal of this rule is to avoid complex conditional structures. Nearly every programmer has seen a nasty nested conditional that’s impossible to follow or a case statement that goes on for pages. Even worse, it is all too easy to simply add another branch to an existing conditional rather than factoring to a better solution.</p>

<p><img src="/images/posts/object-calisthenics/1.png" alt="Don't Use The ELSE Keyword" /></p>

<p>In the image above we have three distinct solutions. The first clearly shows a <a href="http://martinfowler.com/bliki/CodeSmell.html">code smell</a> and also runs against the <a href="http://www.oodesign.com/open-close-principle.html">open-closed principle</a>.</p>

<p>The second uses the early return approach which is the best option for the simplest structures, though is <a href="http://www.yegor256.com/2015/08/18/multiple-return-statements-in-oop.html">not considered a best practice in a pure object-oriented world</a> for some authors and still runs against the <a href="http://www.oodesign.com/open-close-principle.html">open-closed principle</a>, is considerable less verbose, better readable, and faster.</p>

<p>The third solution, probably the best for the most cases, uses the <a href="http://www.oodesign.com/strategy-pattern.html">strategy behavioral pattern</a>, that makes use of polymorphism through the use of interfaces,  attending to the open-closed principle and also attending to our purposed exercise.</p>

<h2 id="wrap-all-primitives-and-strings">Wrap All Primitives And Strings</h2>
<p>As mentioned by Jeff Bay on The Thought Works Anthology:</p>

<p>“An int on its own is just a scalar with no meaning. When a method takes an int as a parameter, the method name needs to do all the work of expressing the intent. If the same method takes an hour as a parameter, it’s much easier to see what’s happening. Small objects like this can make programs more maintainable, since it isn’t possible to pass a year to a method that takes an hour parameter”</p>

<p>So the basic idea is: If your primitive type has a behaviors, you must encapsulate it or a <a href="https://sourcemaking.com/refactoring/smells/primitive-obsession">primitive obsession</a> code smell can appear on your code.</p>

<h2 id="one-dot-per-line">One Dot Per Line</h2>
<p>The main ideal here is to achieve high cohesion, build your class, method or any algorithm with a well defined job and of course with a <a href="http://www.oodesign.com/single-responsibility-principle.html">single responsability</a>.</p>

<p>But when we talk about responsibility, sometimes can be hard to define what is inside one class and what goes to the other, specially when we have generic names like UserService or SystemService, so first try avoid those names.</p>

<p>It is the direct use of the <a href="http://c2.com/cgi/wiki?LawOfDemeter">Law of Demeter</a>, saying only talk to your immediate friends, and don’t talk to strangers.</p>

<p>The idea is to avoid constructions like below:</p>

<p>** father.getChild().setAge(10); **</p>

<p>And than became:</p>

<p>** father.setChildAge(10); **</p>

<p>The above is a very simple case, but image a situation with a three, four or more levels like: ** a.getB().getC().getD().getE().doSomething() ** would be terrible to understand and  to test this code.</p>

<p>This rule doesn’t apply to <a href="http://modernweb.com/2013/05/20/fluent-apis-and-method-chaining/">Fluent Interfaces</a> and more generally to anything implementing the <a href="http://martinfowler.com/dslCatalog/methodChaining.html">Method Chaining Pattern</a> (e.g. a Query Builder).</p>

<h2 id="do-not-abbreviate">Do not Abbreviate</h2>
<p>We have two main reasons to abbreviate:</p>

<p>Are you typing the same word over and over again? If that’s the case, perhaps your method is used too heavily, and you are missing opportunities to remove duplication;</p>

<p>Are your method names getting long? This might be a sign of a misplaced responsibility or a missing class.</p>

<p>This exercise establishes method or class names with one or two words without abbreviations and without context duplication, for instance if your class is named Client, a method name getClient is a context duplication.</p>

<h2 id="keep-all-entities-small">Keep All Entities Small</h2>
<p>Classes up to 50 lines and packages with no more than 10 classes. Some will say why 50? or why 10 classes? The easiest answer is: It’s just a number, a number for we measure our achievement. You can just define another, some argue that up to 150 lines is a good number.</p>

<p>The main idea here is to keep entities small, because large classes usually do more than one thing, which makes them harder to understand and harder to reuse. This is also described as a code smell: <a href="https://sourcemaking.com/refactoring/smells/large-class">large classes</a> and <a href="https://sourcemaking.com/refactoring/smells/long-method">long methods</a>.</p>

<h2 id="no-classes-with-more-than-two-instance-variables">No Classes With More Than Two Instance Variables</h2>
<p>The hardest and indigested one, create classes with no more than two instance variables is based on the idea that a class can have only two types: those that maintain the state of a single instance variable and those that coordinate two separate variables.</p>

<p>Specially for those that came from <a href="http://tratt.net/laurie/research/pubs/html/tratt__dynamically_typed_languages/">dynamically typed languages</a> like me things became even worst, some authors argue that for those languages five is considerable an ideal number.</p>

<p>It all boils down to decomposing complex structures into smallest ones, so choose your number and be consistent.</p>

<h2 id="first-class-collections">First Class Collections</h2>
<p>This rule is an extension of Wrap All Primitives And Strings, and the idea is the same, each collection gets wrapped in its own class than every behavior related to them, now have a home (e.g. filter methods, applying a rule to each element).</p>

<h2 id="no-getterssettersproperties">No Getters/Setters/Properties</h2>
<p>In a first sight, maybe looks weird, disallow a very common practice of creating getters and setters for almost all properties, however the basic idea here is avoid constructions like below:</p>

<p><img src="/images/posts/object-calisthenics/2.png" alt="No Getters/Setters/Properties" /></p>

<p>Because we’re removing from the class their responsibility. The idea behind strong encapsulation boundaries is to force programmers working on the code after you leave it to look for and place behavior into a single place in the object model. The code above should look like above:</p>

<p><img src="/images/posts/object-calisthenics/3.png" alt="No Getters/Setters/Properties" /></p>

<h2 id="conclusion">Conclusion</h2>
<p>In conclusion these rules are all about writing maintainable code, they are an important and precise tool in which you can increase your software code quality. At first probably will be a great challenge but at the end the result will be awesome.</p>

    </div>
		<hr>
		<div class="fb-comments" data-href="http://vanderleisilva.github.io/blog/2016/04/23/object-calisthenics" data-numposts="2" data-width="100%"></div>
	</div>
</section>

<section id="tpl_contact">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<header class="template_header">
					<h1 class="text-center"><span>...</span> Contact <span>...</span></h1>
				</header>
				<p class="text-center">
					<i class="fa fa-map-marker"></i> Ganghoferstraße 39, 80339 Munich - Germany<br />
					<i class="fa fa-envelope"></i> Email: <a href="mailto:vanderlei.alves.da.silva@gmail.com">vanderlei.alves.da.silva@gmail.com</a><br />
					<i class="fa fa-phone"></i> Telephone: <a href="#">+49 17686314967</a>
				</p>
			</div>
		</div>
		<form role="form" action="https://formspree.io/vanderlei.alves.da.silva@gmail.com" target="_blank" method="post">
			<div class="form-group">
				<div class="input-group">
					<div class="input-group-addon"><i class="fa fa-user"></i></div>
					<input type="text" name="name" required class="form-control" id="contact-name" placeholder="Name">
				</div>
			</div>
			<div class="form-group">
				<div class="input-group">
					<div class="input-group-addon"><i class="fa fa-at"></i></div>
					<input type="email" name="email" required class="form-control" placeholder="Email">
				</div>
			</div>
			<div class="form-group">
				<div class="input-group">
					<div class="input-group-addon"><i class="fa fa-envelope-o"></i></div>
					<textarea name="message" class="form-control" required id="contact-message" placeholder="Message"></textarea>
				</div>
			</div>
			<div class="form-group row">
				<div class="col-xs-6 col-xs-offset-6">
					<button type="submit" class="form-control">Send</button>
				</div>
			</div>
		</form>
		<div class="row">
			<div class="col-md-6 col-md-offset-3">
				<ul class="nav nav-pills social">
					<li><a title="Facebook" href="https://www.facebook.com/vanderlei.alvesdasilva" target="_blank" class="shadow-top-down social-facebook"><i class="fa fa-facebook-official"></i></a></li>
					<li><a title="Github" href="https://github.com/vanderleisilva" class="shadow-top-down social-github" target="_blank"><i class="fa fa-github-square"></i></a></li>
					<li><a title="LinkedIn" href="http://www.linkedin.com/in/vanderlei-alves-da-silva" target="_blank" class="shadow-top-down social-linkedin"><i class="fa fa-linkedin-square"></i></a></li>
					<li><a title="SlideShare" href="http://pt.slideshare.net/VanderleiAlvesdaSilv" target="_blank" class="shadow-top-down social-slideshare"><i class="fa fa-slideshare"></i></a></li>
					<li><a title="Node Package Manager" href="https://www.npmjs.com/~vanderleisilva" target="_blank" class="shadow-top-down social-npm">
						<img class="npmicon" src="/images/npm.png" alt="npm icon" />
					</a></li>
				</ul>
			</div>
		</div>
	</div>
</section>



	<!-- Footer -->
	<footer>		
		<div class="container">
			<div class="row">
				<div class="col-xs-12 footer-copyright">
					<p>
						&copy; 2018 - <a href="#" target="_parent">Vanderlei Silva / <a href="http://localhost:4000/blog/atom.xml" target="_blank" >RSS Feed</a></a>						
					</p>
				</div>
			</div>
		</div>
		<div class="certificacoes">
			<img width="80" title="Microsoft Specialist Programming in HTML5 with JavaScript & CSS3" src="/images/microsoft-certification.png" alt="Microsoft Specialist Programming in HTML5 with JavaScript & CSS3">
			<a href="https://www.scrumalliance.org/community/profile/vsilva26" target="_blank">
				<img width="80" src="/images/csm-certification.png" title="Certified ScrumMaster®" alt="Certified ScrumMaster®">
			</a>
		</div>
	</footer>
	<!-- require plugins -->
	<script src="/js/jquery.min.js"></script>
	<script src="/js/jquery-ui.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/jquery.parallax.js"></script>
	<script src="/js/validator.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.1.1/ekko-lightbox.js"></script>
	<!-- template mo config script -->
	<script src="/js/tpl_scripts.js"></script>
</body>
</html>
